# Handow UAT Demo and Seed Project

[Handow on NPM repository](https://www.npmjs.com/package/handow)

Before head into project details, please take a look at an example [UAT report generated by Handow](https://storage.googleapis.com/handow-uat-assets/static/uat-pet-store/index.html). It shows some features of Handow UAT implementation.

+ Common stuffs like a pie chart, Gherkin-like statement, test steps list ...
+ Parameters on story and phase (scenario) level
+ Story and phase looping by parameters
+ Conditionl skip in run time
+ Screenshot and XHR, cookies record
+ Clean single page report render with responsive view
+ Using probe syntax for element retrieve

Running demo project will reveal these features (and more), and could be solid start to scaffold an UAT instance for real application testing.

## Install

Clone this project and make sure [Node.js](https://nodejs.org/en/download/) has been installed to your local machine. The project has only one dependency right now - **handow**, which is added to _package.json_ already. Install it from the project root path:

```
$ npm install
```

> Install need minutes because Handow will install Chromium to you local machine.

## Project and running

Stories and plan are designed to test the [UAT report generated by Handow](https://storage.googleapis.com/handow-uat-assets/static/uat-pet-store/index.html). The report rendering is also a web page (but no cookies and AJAX communication). There are 4 stories created in _/project/stories_, most steps in them are same. Here we just focus on the project structure and work flow instead of test business.

The running task scripts have been defined in _package.json_, we can also call Handow CLI directly by _npx_.

```json
"scripts": {
    "demostory": "handow --story project/stories/demostory",
    "demostory1": "handow --story project/stories/demostory1",
    "demostory2": "handow --story project/stories/demostory2",
    "demoplan": "handow --plan project/demoplan",
    "teststory": "node ./project/test.js"
}
```

### Run stories

```
$ npm run demostory
OR
$ npx handow --story project/stories/demostory
```

Watch the console output and Chrome playing, the report is rendered immediately after story finished.

Same to run _demostory1_ and _demostory2_, we can see how skipping and looping happen. The _teststory_ is special, handow API is called in _test.js_.

### Run plan

A plan is defined and group stories into 2 stages, and 2 workers are used to run stories of a stage in parallel.

```
$ npm run demoplan
OR
$ npx handow --plan project/demoplan
```

### Report and archives

Each running result will be stored in _/reports_, and the previous reprot will be archived in _/reports/archives/_. Each report and archived report coulbe replay by open the _index.html_.

> Archive behavior is defined by configuation.

## Config outline

The _config.js_ provide k_v pairs for system level setting. The default built-in configuration could be overriden by this file. And config properties in plan, e.g. demoplan.json, override config again.

> Go to [Handow Site](https://docs.google.com/document/d/1rFdsDl7wZGsR47kMsQ28ki3OlAx9nVLl6fUmo2u198c/edit#heading=h.gfbuevxpquop) to see the config specification.

## Documentation

[Handow Site](https://docs.google.com/document/d/1rFdsDl7wZGsR47kMsQ28ki3OlAx9nVLl6fUmo2u198c/edit#heading=h.gfbuevxpquop)


